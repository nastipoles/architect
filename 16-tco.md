# 16. Стоимость владения системой (TCO)

## Основные факторы расходов

Значительную часть затрат составит аренда облачных ресурсов. Микросервисы будут размещены в Kubernetes-кластере, который требует от нескольких до нескольких десятков вычислительных узлов по мере роста нагрузки. Нужно оплачивать управляемую базу данных, где хранятся все данные пользователей, а также брокер сообщений RabbitMQ. Дополнительно возникнет плата за хранение резервных копий и логов. Важно будет содержать команду разработчиков (бэкенд, мобильные приложения), DevOps-инженеров (обеспечение стабильной работы, CI/CD), тестировщиков, бизнес-аналитиков, специалистов по данным, а также выделить бюджет на мониторинг, рассылки, платежные сервисы.

Если компания планирует активно внедрять рекомендательные механизмы, потребуются инженеры и ученые по данным, а сам процесс обучения моделей потребует больше инфраструктуры.

## Прогноз роста пользователей и нагрузки

Для оценки приводим упрощенный сценарий.  
- **В первый год** ожидается около ста тысяч зарегистрированных пользователей, при этом активно пользующихся приложением – около половины.  
- **Во второй год** целевая цифра в два раза выше, что приводит к росту нагрузки примерно в два раза и, следовательно, к большим затратам на облако и команду.  
- **В пятый год** возможно достижение до миллиона пользователей, что увеличит нагрузку в несколько раз и потребует значительно больших ресурсов для хранения нескольких терабайт данных.

Такое масштабирование влияет на все части системы: кластер Kubernetes, базу данных, брокер сообщений, инструменты мониторинга, а также команду, отвечающую за поддержание бесперебойной работы.

## Приблизительная структура расходов

| №  | Вид расходов                          | Год 1         | Год 2         | Год 5         |
|----|---------------------------------------|---------------|---------------|---------------|
| 1  | Облачная инфраструктура               | 27–36         | 45–63         | 135–180       |
| 2  | Хранение данных / Backup              | 4.5–6.3       | 7.2–10.8      | 27–45         |
| 3  | Команда DevOps                        | 18–27         | 27–36         | 45–63         |
| 4  | Разработчики и QA                     | 54–72         | 72–90         | 135–180       |
| 5  | Data / ML                             | 9–13.5        | 13.5–22.5     | 27–54         |
| 6  | Поддержка и продукт-менеджмент         | 13.5–22.5     | 18–31.5       | 36–63         |
| 7  | Инструменты и лицензии                | 4.5–7.2       | 7.2–10.8      | 13.5–27       |
| **Итого** |                               | 130.5–184.5   | 189.9–264.6   | 418.5–612     |

- **Облачная инфраструктура:**  
  Здесь под первой статьей подразумеваются все платежи за виртуальные машины или контейнерные узлы, а также управляемые сервисы в облаке.

- **Хранение данных / Backup:**  
  Включает плату за основное хранение данных (сам размер базы в PostgreSQL) и резервные копии, которые со временем будут занимать все больше места, а значит стоить дороже.

- **Команда DevOps:**  
  Это зарплата специалистов по инфраструктуре и эксплуатации (DevOps), которые будут контролировать стабильность системы, автоматизировать процессы развертывания и масштабирования.

- **Разработчики и QA:**  
  Относится к команде бэкенд-разработчиков, мобильных разработчиков и тестировщиков, причем при расширении функционала и увеличении базы пользователей эта команда естественно вырастет.

- **Data / ML:**  
  Актуально, если компания действительно будет развивать систему рекомендаций и расширенную аналитику: тогда требуются дата-инженеры и специалисты по машинному обучению, причем их вклад становится особенно важен ближе к третьему-пятому году, когда накапливаются большие объемы данных.

- **Поддержка и продукт-менеджмент:**  
  Включает службу поддержки, работу с пользователями и продукт-менеджеров, которые формируют стратегию развития приложения и участвуют в выстраивании маркетинговой и бизнес-логики.

- **Инструменты и лицензии:**  
  Включает платные сервисы мониторинга, анализатор логов, лицензии для CI/CD инструментов, а также платные сервисы для рассылок и уведомлений.

Таким образом, первые два года в финансовом смысле – это период создания и отладки системы, когда можно обойтись относительно умеренными затратами, но по мере роста числа пользователей и увеличения функционала придется больше платить за облачные сервисы, команду и инструменты. К пятому году совокупные расходы могут увеличиться в несколько раз, хотя это же время дает компании возможность получать дополнительную прибыль за счет более высокой конверсии в e-commerce, использования подписочных моделей или рекламных интеграций.
